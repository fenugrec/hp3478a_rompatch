Utilities and code for patching HP3478A firmware.

Experimental, not for general consumption

# utilities
* ckfix
Fix checksum by adjusting last byte.

# ROM patches
These apply on the dc118 ROM version. Most of them are for development use, in particular for testing the ROM under MAME emulation.

* 01_ADtest
patch to bypass "AD TEST" self test. 

* 02_ADcomms
neutralizes comms to skip "AD LINK" self test, and pretend the ADC reads 0 in normal operations.

* 03_ckdis
disable ROM checksum entirely. For development use only ! Patch must be applied at 0x1000 offset.

# Applying ROM patches
To apply patches, srecord is needed.
TODO : when patches apply in the upper 4kB bank (> 0x1000), the hex file needs to be offseted since the assembler doesn't know about the upper 4kB.

Example to apply one single patch "01_ADtest" to the original dc118 ROM dump:

`srec_cat ../dc118.bin -bin 01_ADtest.hex -intel -contradictory-bytes=warn -redundant-bytes=ignore -o patched.bin -bin`
(contradictory-bytes can also be set to ignore, but 'warn' allows to inspect and confirm the changes

Then, running ckfix to fix checksums:
`ckfix patched.bin patched_fixed.bin`

# Verifying ROM patches
`srec_cmp ../dc118.bin -bin patched.bin -bin -v`